---
import { getCollection } from 'astro:content';
import { FEATURED_PROJECTS } from 'src/config';
import ProjectPreview from '@components/blocks/ProjectPreview.astro';

const allPreviews = await getCollection('projectPreview', (entry) => FEATURED_PROJECTS.includes(entry.slug));
---

<section class='projects'>
	<h1>Featured Projects</h1>
	<p>
		These are projects that I'm particularly proud of. Some may be demos for learning purposes, others are real
		published apps! You can also view the <a href='/projects'>rest of my projects</a> including full writeups.
	</p>
	<ul class='projects-list'>
		{allPreviews.map((previewEntry) => <ProjectPreview previewEntry={previewEntry} />)}
	</ul>
</section>
